# Sori : 장르 아티스트와 팬들을 위한 P2P 블록체인 음악 스트리밍 플랫폼

## 서비스 개요

**Sori**는 장르 음악 팬과 독립 아티스트를 위한 **P2P 블록체인 음악 스트리밍 플랫폼**입니다.  
기존 중앙화 스트리밍 서비스와 달리 중개 절차를 최소화하여 아티스트가 더 높은 수익을 얻을 수 있도록 설계되었습니다.  
또한, 투명한 차트 시스템과 아티스트와의 직접 소통 기능을 제공하여 신뢰성과 사용자 만족도를 높입니다.

주요 차별점:
1. **높은 수익 배분:** 기존 유통사나 중개 플랫폼 없이 직접적인 수익 분배.
2. **투명한 시스템:** 차트 조작 및 수익 분배 문제 해결을 위한 투명한 정산 및 차트 시스템.
3. **간소화된 음원 등록:** 저작권 등록 및 계약 절차를 간소화하여 아티스트-팬 피드백 사이클 개선.
4. **직접 소통:** 아티스트와 팬이 직접 소통할 수 있는 기능 제공.

---

## MVP 기능

### 1. 인증 / 인가

#### 1.1. 인증
- **회원가입**  
  - 일반 이메일 가입  
  - 구글 소셜 로그인
- **로그인**  
  - 지갑 생성 시 자동 로그인 처리
- **비밀번호 찾기**  
  - 이메일 인증 코드 발송 후 비밀번호 재설정
- **회원탈퇴**  
  - 구독 기간 내 탈퇴 시 환불 불가  
  - 아티스트: 탈퇴 후 30일간 음원 유지 및 유예 기간 (유예 기간 동안 구독 불가) → 이후 영구 삭제
- **로그아웃**

---

### 2. 음원

#### 2.1. 음원 등록
- 앨범 정보 입력 후 트랙 정보 입력  
- 입력 항목: 제목, 장르, 가수, 발매일, 작곡, 가사, 프로듀서, 음원 파일, 앨범 커버  
- 지원 파일 포맷: mp3, flac, wav 등 다양한 확장자

#### 2.2. 음원 재생
- 기본 재생 기능
- **다음곡 넘어가기**
- **이전곡 넘어가기**  
  - 재생 시간 3초 이내: 이전 곡으로 이동  
  - 재생 시간 3초 초과: 현재 곡 0초로 이동
- **일시정지**
- **한 곡 반복 재생**
- **셔플 재생**  
  - 셔플로 다음 곡 이동 후 이전 곡 선택 시 해당 곡으로 복귀
- **전체 음악 반복**
- **현재 음악 반복**
- **가사 보기 및 가사 자동 이동**
- **좋아요 기능**

---

### 3. 재생목록

- **재생목록에 곡 추가**  
  - 음원 재생 시 자동 추가 (예: C205-67 동작)
- **재생목록 음원 실행**  
  - 선택한 음원 재생
- **재생목록 내 곡 검색**

---

### 4. 플레이리스트

- **플레이리스트 생성**
- **플레이리스트 곡 순서 변경**  
  - 드래그 앤 드롭으로 순서 조정
- **플레이리스트에 곡 추가**  
  - 바로 다음 재생 또는 마지막 순서 추가
- **플레이리스트에서 곡 삭제**  
  - 선택한 곡 삭제
- **플레이리스트 내 곡 검색**
- **플레이리스트 삭제**
- **플레이리스트 공개 여부 설정**  
  - 공개 / 비공개 선택 가능
- **플레이리스트 퍼가기**  
  - 다른 사용자의 플레이리스트를 복사하여 내 플레이리스트에 추가

---

### 5. 전시

#### 5.1. 앨범 전시
- **전체 인기 앨범 전시**  
  - HOT: 주간 스트리밍 횟수 상위 20개 앨범 (차트와 별도)
- **장르별 인기 앨범 전시**  
  - 주간 스트리밍 횟수 상위 20개 앨범  
  - 장르 분류: 힙합, 밴드, 알앤비, 재즈, 어쿠스틱
- **장르별 신규 앨범 전시**  
  - 신규 발매(등록) 앨범 20개

#### 5.2. 트랙 전시
- **전체 인기 트랙 전시**  
  - 주간 스트리밍 횟수 상위 20곡
- **장르별 인기 트랙 전시**  
  - 주간 스트리밍 횟수 상위 20곡

#### 5.3. 플레이리스트 전시
- **인기 플레이리스트 전시**  
  - 퍼가기 순으로 상위 5개

---

### 6. 음원 차트

- **실시간 인기 차트**
- **장르별 인기 차트**  
  - 최근 30일 내 스트리밍 데이터 기준, 1시간마다 갱신  
  - TOP 50곡 제공
- 투명한 차트 가시화 방안 추가 고려

---

### 7. 구독

#### 7.1. 기본 구독
- **구독하기**  
  - 모든 음원 재생 가능
- **구독 해지**  
  - 다음 달부터 구독 해지 (결제 불가)

#### 7.2. 아티스트 구독
- **구독하기**  
  - 구독한 아티스트 음원 재생 가능
- **구독 해지**  
  - 다음 달부터 해당 아티스트 구독 해지 (결제 불가)

---

### 8. 정산

#### 8.1. 아티스트 구독 모델 자동 정산
- **목적:**  
  - 팬이 아티스트를 구독하면서 발생한 구독비를, 구독 기간 종료 시점에 자동으로 정산합니다.
#### 8.2. 기본 구독 모델 자동 정산
- **목적:**  
  - 팬이 기본 구독을 통해 스트리밍 서비스를 이용한 경우, 구독 기간 종료 시점에 스트리밍 횟수에 기반하여 정산합니다.


---

### 9. 마이페이지


#### 9.1. 내 정보 조회

- **기본 정보 조회:**  
  - 이름, 프로필 사진, 소개글 등 기본 사용자 정보를 조회합니다.

- **인스타그램 연동:**  
  - 사용자의 인스타그램 계정 정보를 연동하고 조회할 수 있습니다.

---

#### 9.2. 활동 내역 조회

- **구독 중인 아티스트 목록 조회:**  
  - 현재 결제 중인 아티스트(구독 대상) 목록을 확인합니다.

- **나를 구독한 리스너 목록 조회:**  
  - 자신을 구독 중인 리스너(팬) 목록을 확인합니다.

- **팔로잉 목록 조회:**  
  - 사용자가 팔로잉 중인 다른 사용자 목록을 조회합니다.

- **팔로워 목록 조회:**  
  - 사용자를 팔로우하는 사용자 목록을 조회합니다.

- **나의 구독 내역 조회:**  
  - 구독 시작 날짜, 해지 버튼 등의 정보를 포함하여 현재까지의 아티스트 및 월별 구독 내역을 조회합니다.

- **내가 좋아요한 앨범 조회:**  
  - 사용자가 좋아요한 앨범 목록을 조회합니다.

- **내가 좋아요한 트랙 조회:**  
  - 사용자가 좋아요한 트랙 목록을 조회합니다.

---

#### 9.3. 아티스트 대시보드

- **나의 음원 목록 조회:**  
  - 내 음원 목록과 각 앨범, 트랙별 스트리밍 수 등의 정보를 확인합니다.

- **이번 달 신규 구독자 수 조회**

- **이번 달 스트리밍 횟수 조회**

- **이번 달 정산 금액 조회**  
  - 정산 내역의 투명성을 위해, 각 리스너별 스트리밍 비율 데이터를 함께 조회합니다.  
  - 단, 블록체인 상의 리스너 데이터가 대량(예: 리스너 100명 × 1000건 = 10만 건)일 경우, 실시간 조회 시 응답 시간이 길어질 수 있으므로 별도 처리 필요.

- **월별 구독자 수 조회:**  
  - 신규 구독이 아닌 누적 구독자 수를 확인합니다.

- **월별 스트리밍 횟수 조회**

- **월별 정산 금액 조회**  
  - 위에서 언급한 투명성 보장을 위해, 리스너별 스트리밍 데이터 기반의 정산 비율 정보를 포함하여 조회합니다.
  - **캐시 전략 제안:**  
    - **캐시 데이터 생성:** 서버 트래픽이 적은 시간(예: 심야 시간대)에 블록체인에서 대량의 스트리밍 데이터를 가져와 서버 내부 데이터베이스나 메모리 캐시에 저장합니다.  
    - **캐시 만료 및 업데이트:**  
      - 정해진 주기(예: 매일 자정, 또는 정산 주기 시작 시)에 캐시를 새로 업데이트하여 최신 데이터를 반영합니다.  
      - 캐시 폴트(요청 시 캐시 데이터 미존재)가 빈번하게 발생하면, 우선적으로 데이터 조회 후 캐시 업데이트를 실시합니다.
    - **분산 캐시 고려:**  
      - 트래픽이 매우 많은 경우 Redis와 같은 분산 캐시 시스템을 활용하여 응답 시간을 최소화합니다.

- **내가 좋아요한 트랙 조회:**  
  - 사용자가 좋아요한 트랙 목록을 조회합니다.
---

### 10. 팬 기능 (팬 구독 보상)

#### 10.1. 구독 번호 NFT
- **기능 설명:**  
  - 팬이 특정 아티스트를 구독할 경우, 해당 팬이 몇 번째 구독자인지를 증명하는 고유 NFT를 발행합니다.
  - 이 NFT는 팬의 구독 순위를 기록하여, 팬덤 내에서 자신의 위치를 자랑할 수 있는 디지털 증표로 활용됩니다.

#### 10.2. 사인 앨범 NFT
- **기능 설명:**  
  - 아티스트가 한정판 사인 앨범을 NFT로 발행합니다.
  - 예시: "행복하시죠? to 규현"과 같이 특별한 메시지나 디자인이 포함된 디지털 사인 앨범을 제공하여, 팬에게 소장 가치를 부여합니다.

#### 10.3. 아티스트 셀피 NFT
- **기능 설명:**  
  - 아티스트가 팬들을 위해 직접 촬영한 셀피를 NFT 형태로 발행합니다.
  - 예시: "찰칵! 오늘도 좋은 하루~ to 규현"과 같이 아티스트의 일상적인 순간을 담은 셀피를 통해 팬들에게 특별한 디지털 굿즈를 제공합니다.
---

### 11. 커뮤니티

#### 11.1. 트랙 별 댓글 작성
- **기능 설명:**  
  - 개별 트랙에 대해 댓글을 작성할 수 있습니다.  
  - 트랙 재생 시간에 따라 해당 시점의 댓글 작성 기능을 지원하여, 음악 감상 중 실시간 피드백이 가능하도록 합니다.

#### 11.2. 앨범 크레딧 정보 조회
- **기능 설명:**  
  - 앨범에 포함된 곡들의 제작, 참여 아티스트 등의 크레딧 정보를 조회할 수 있습니다.
  - 사용자에게 앨범의 세부 정보 및 제작 과정을 투명하게 제공합니다.

#### 11.3. 트랙 크레딧 정보 조회
- **기능 설명:**  
  - 개별 트랙의 제작 참여자 및 관련 정보를 조회할 수 있습니다.
  - 아티스트, 작곡가, 편곡자 등 다양한 정보를 한눈에 확인할 수 있습니다.

#### 11.4. 트랙 평점
- **기능 설명:**  
  - 사용자들이 개별 트랙에 대해 평점을 부여할 수 있습니다.
  - 평점을 통해 트랙의 인기도 및 사용자 선호도를 파악할 수 있습니다.

#### 11.5. 앨범 평점
- **기능 설명:**  
  - 사용자들이 앨범 전체에 대해 평점을 부여할 수 있습니다.
  - 앨범 평점을 기반으로 인기 앨범 순위 및 추천 시스템에 활용할 수 있습니다.

---

### 12. 아티스트 채널

#### 12.1. 팬톡 생성
- **기능 설명:**  
  - 아티스트 채널 내에서 팬들이 사진 또는 글 형태의 댓글(팬톡)을 작성할 수 있습니다.  
  - 대댓글 기능은 지원하지 않아, 단일 댓글 형태로 소통합니다.

#### 12.2. 팬톡 조회
- **기능 설명:**  
  - 작성된 팬톡들을 리스트 형태로 모아 확인할 수 있습니다.
  - 팬들의 다양한 의견 및 피드백을 아티스트와 다른 팬들이 쉽게 열람할 수 있도록 합니다.

#### 12.3. 공지 조회
- **기능 설명:**  
  - 아티스트가 채널 내에 공지사항을 등록할 수 있으며, 팬들이 이를 확인할 수 있습니다.  
  - 공지사항에는 팬들이 댓글을 작성할 수 있어, 추가적인 소통이 가능합니다.

#### 12.4. 공지 댓글 조회
- **기능 설명:**  
  - 특정 공지사항에 달린 댓글들을 조회할 수 있습니다.
  - 공지사항에 대한 팬들의 반응 및 의견을 모니터링할 수 있습니다.

---

